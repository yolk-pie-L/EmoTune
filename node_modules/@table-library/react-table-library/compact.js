import{o as e,_ as r}from"./styles-492c6342.js";import*as t from"react";import{H as o,R as n,F as i,a as l,b as s,T as c}from"./index-b81b22fe.js";import{jsx as u}from"@emotion/react";import"clsx";import{d as a}from"./defineProperty-9f9de5d0.js";import{VariableSizeList as p}from"react-window";import f from"react-virtualized-auto-sizer";import{H as m,B as d}from"./index-21847be4.js";import{g as O,S as b}from"./index-f085939c.js";import{H as w}from"./HeaderCell-dc2e591b.js";import{C as v}from"./Cell-a4350b14.js";import"./slicedToArray-c92cae3a.js";import"./unsupportedIterableToArray-dc74e326.js";import"./Feature-4d8ce446.js";import"./modifiers-d418f2b2.js";import"./toConsumableArray-25e5c43c.js";import"./useTheme-e8aabdea.js";var y=["columns"],j=function(e,r){var t=e.indexOf(r);return(t>-1?e.slice(0,t+1):[]).filter((function(e){return e.select})).length},P=function(n){var i=n.columns,l=e(n,y),s=l.sort,c=l.select;return u(m,null,u(o,null,i.map((function(e,o){var n=null;c&&e.select&&(n="boolean"!=typeof e.select&&e.select.renderHeaderCellSelect?u(w,{stiff:!0},e.select.renderHeaderCellSelect()):u(c.components.HeaderCellSelect,null));var l={index:o+j(i,e),resize:e.resize,pinLeft:e.pinLeft,pinRight:e.pinRight,hide:e.hide},a=null;return a=s&&e.sort&&e.sort.sortKey?u(s.components.HeaderCellSort,r({},l,{sortKey:e.sort.sortKey,sortIcon:e.sort.sortIcon}),e.label):u(w,l,e.label),u(t.Fragment,{key:o},n,a)}))))},g=["index","item","columns","rowProps","rowOptions"];function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function C(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var z=function(o){var i=o.index,l=o.item,s=o.columns,c=o.rowProps,a=o.rowOptions,p=e(o,g),f=p.tree,m=p.select;return u(t.Fragment,null,(null==a?void 0:a.renderBeforeRow)&&a.renderBeforeRow(l,i),u(n,r({item:l},c),s.map((function(e,o){var n={pinLeft:e.pinLeft,pinRight:e.pinRight,hide:e.hide},i=function(e,r){return Object.keys(e).reduce((function(t,o){return"function"==typeof e[o]?t[o]=e[o](r):t[o]=e[o],t}),{})}((null==e?void 0:e.cellProps)||{},l),s=null;if(f&&e.tree){var c={};"boolean"!=typeof e.tree&&(c=C(C({},c),{},{treeIcon:e.tree.treeIcon})),s=u(f.components.CellTree,r({item:l},i,n,c),e.renderCell(l))}else s=u(v,r({},i,n),e.renderCell(l));var a=null;return m&&e.select&&(a="boolean"!=typeof e.select&&e.select.renderCellSelect?u(v,{stiff:!0},e.select.renderCellSelect(l)):u(m.components.CellSelect,{item:l})),u(t.Fragment,{key:o},a,s)}))),(null==a?void 0:a.renderAfterRow)&&a.renderAfterRow(l,i))},S=["columns"],x=["children"],R=["internals","columns","rowProps","rowOptions","virtualizedOptions"],H=["tableList","columns","rowProps","rowOptions","virtualizedOptions"];function L(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function T(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?L(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var k=function(o){var n=o.columns,i=e(o,S);return t.forwardRef((function(t,o){var l=t.children,s=e(t,x);return u("div",r({ref:o},s),u("div",{style:T(T({},b),{},{position:"sticky",insetBlockStart:0,zIndex:3})},u(P,r({columns:n},i))),u(d,null,l))}))},D=function(t){var o=t.internals,n=t.columns,i=t.rowProps,l=t.rowOptions,s=t.virtualizedOptions,c=e(t,R),a=o.index,p=o.style,f=o.data.items[a],m=O(null==s?void 0:s.rowHeight,f,a);return u("div",{style:T(T(T({},p),b),{},{top:p.top+m})},u(z,r({index:a,item:f,columns:n,rowProps:i,rowOptions:l},c)))},I=function(t){var o=t.tableList,n=t.columns,i=t.rowProps,l=void 0===i?{}:i,s=t.rowOptions,c=t.virtualizedOptions,a=e(t,H);return u(f,null,(function(e){var t=e.width,i=e.height;return u(p,{height:i,width:t,itemCount:(null==c?void 0:c.itemCount)||o.length,itemSize:function(e){return O(null==c?void 0:c.rowHeight,o[e],e)},innerElementType:k(T({columns:n},a)),itemData:{items:o}},(function(e){return u(D,r({internals:e,columns:n,rowProps:l,rowOptions:s,virtualizedOptions:c},a))}))}))},A=["tableList","columns","rowProps","rowOptions"],F=function(o){var n=o.tableList,i=o.columns,l=o.rowProps,s=void 0===l?{}:l,c=o.rowOptions,a=e(o,A);return u(t.Fragment,null,u(P,r({columns:i},a)),u(d,null,n.map((function(e,t){return u(z,r({key:e.id,index:t,item:e,columns:i,rowProps:s,rowOptions:c},a))}))))},B=function(e){var r=e.columns;return u(i,null,u(l,null,r.map((function(e,r){return u(s,{key:r},e.footer)}))))},E=["columns","rowProps","tableOptions","rowOptions","virtualizedOptions"],K=t.forwardRef((function(o,n){var i=o.columns,l=o.rowProps,s=void 0===l?{}:l,a=o.tableOptions,p=o.rowOptions,f=o.virtualizedOptions,m=e(o,E),d=m.data,O=m.theme,b=m.layout,w=m.sort,v=m.pagination,y=m.select,j=m.tree,P=m.onInit;return u(c,{ref:n,data:d,theme:O,layout:b,sort:w,pagination:v,select:y,tree:j,onInit:void 0===P?function(){}:P},(function(e){return u(t.Fragment,null,(null==a?void 0:a.renderBeforeTable)&&a.renderBeforeTable(),f?u(I,r({tableList:e,columns:i,rowProps:s,rowOptions:p,virtualizedOptions:f},m)):u(F,r({tableList:e,columns:i,rowProps:s,rowOptions:p},m)),i.some((function(e){return!!e.footer}))&&u(B,{columns:i}),(null==a?void 0:a.renderAfterTable)&&a.renderAfterTable())}))}));export{K as CompactTable};
//# sourceMappingURL=compact.js.map
